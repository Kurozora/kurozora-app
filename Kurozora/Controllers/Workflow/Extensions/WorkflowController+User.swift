//
//  WorkflowController+User.swift
//  Kurozora
//
//  Created by Khoren Katklian on 25/02/2020.
//  Copyright Â© 2020 Kurozora. All rights reserved.
//

import Foundation
import Kingfisher

// MARK: - User
extension WorkflowController {
	func processUserData(fromSession userSession: UserSessions) {
		if let userID = userSession.user?.id {
			try? Kurozora.shared.KDefaults.set(String(userID), key: "user_id")
		}

		if let username = userSession.user?.username {
			try? Kurozora.shared.KDefaults.set(username, key: "username")
		}

		if let profileImage = userSession.user?.profileImage {
			try? Kurozora.shared.KDefaults.set(profileImage, key: "profile_image")
		}

		if let authToken = userSession.authToken {
			try? Kurozora.shared.KDefaults.set(authToken, key: "auth_token")
		}

		if let sessionID = userSession.currentSessions?.id {
			try? Kurozora.shared.KDefaults.set(String(sessionID), key: "session_id")
		}
	}
}
